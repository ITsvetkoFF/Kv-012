<section class="mainbar">
    <div class="matter">
        <div class="container">
            <div class="clearfix">
                <form class="form-inline pull-right well">
                    <select class="form-control">
                        <option>Show all:</option>
                        <option>Show Opened</option>
                        <option>Show Closed</option>
                    </select>
                    <select class="form-control">
                        <option>Sort by:</option>
                        <option>ID</option>
                        <option>Priority</option>
                        <option>Date</option>
                    </select>

                    <div class="form-group">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search for...">
                             <span class="input-group-btn">
                                  <button class="btn btn-info" type="button"><span
                                      class="glyphicon glyphicon-search"></span></button>
                            </span>
                        </div>
                        <!-- /input-group -->
                    </div>
                </form>
                <h1>Defects
                    <button type="button" class="btn btn-success btn-xs" ng-click="vmDefects.open()">Add Defect</button>
                </h1>

            </div>
            <hr>

            <div class="row" ng-if="!vmDefects.currentDefect">
                <div class="col-sm-12">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h5>Defects haven't been added</h5>
                        </div>
                    </div>
                    <img src="../images/no-defects.jpg" class="img-responsive col-sm-offset-4" alt="no-defects" >
                </div>
            </div>
            <div class="row" ng-if="vmDefects.currentDefect">
                <div class="col-sm-8">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            Defects list
                            <span class="pull-right">
                                <span class="glyphicon glyphicon-inbox"></span>
                                archive
                            </span>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" ng-click = "vmDefects.toogledAll = !vmDefects.toogledAll">
                                </th>
                                <th>
                                    Name
                                </th>
                                <th>
                                    Date
                                </th>
                                <th>
                                    Priority
                                </th>

                            </tr>
                            </thead>
                            <tbody ng-repeat="defect in vmDefects.arrayDefects">
                            <tr ng-click="vmDefects.setCurrentDefect(defect)" ng-class="{'selected-row': vmDefects.currentDefect == defect}">
                                <th>
                                    <input type="checkbox" ng-checked="vmDefects.toogledAll">
                                </th>
                                <td>
                                    {{defect.name}}
                                </td>
                                <td>
                                    {{defect.dateOfDefectCreation}}
                                </td>
                                <td>
                                    {{defect.priority}}
                                </td>

                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-sm-4 ">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            Detailed information
                            <span class="pull-right">
                                <span class="glyphicon glyphicon-inbox"></span>
                                archive
                            </span>
                        </div>
                        <div>
                            <div class="panel-body">
                                <b>Name:</b>
                                {{vmDefects.currentDefect.name}}
                                <br>
                                <b>Found:</b>
                                {{vmDefects.currentDefect.whoFind}}
                                <br>
                                <b>Assigned to:</b>
                                {{vmDefects.currentDefect.assignedTo}}
                                <br>
                                <br>


                                <b>Description:</b>
                                {{vmDefects.currentDefect.description}}
                                <br>
                                <br>
                                <b>Steps to reproduce:</b>
                                {{vmDefects.currentDefect.stepsToReproduce}}
                                <br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="text/ng-template" id="addBugs.html">
    <div class="modal-header">
        <button type="button" class="close" ng-click="vmDefectModal.cancel()"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add defect</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="form-group col-md-9">
                <label for="errorname">Bugs Name</label>
                <input type="text" class="form-control" id="errorname" placeholder="ErrorName">
            </div>
            <div class="form-group col-md-3">
                <label>Priority:</label>
                <select class="form-control">
                    <option>Critical</option>
                    <option>High</option>
                    <option>Normal</option>
                    <option>Low</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="whoFind">Who Find:</label>
                <input type="text" class="form-control" id="whoFind" placeholder="Who Find">
            </div>
            <div class="form-group col-md-6">
                <label for="assignedTo">Assigned to:</label>
                <input type="text" class="form-control" id="assignedTo" placeholder="Assigned to">
            </div>
        </div>
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea class="form-control" id="description" rows="3" placeholder="Description"></textarea>

        </div>
        <div class="form-group" enctype="multipart/form-data" method="post">
           <input type="file" value="Attach file" id="choose-file">
        </div>
        <div class="form-group">
            <label for="testCase">Steps To Reproduce:</label>
            <textarea class="form-control" id="testCase" rows="2" placeholder="TestCase"></textarea>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="vmDefectModal.cancel()">Cancel</button>
        <button type="button" class="btn btn-primary">Post</button>
    </div>
</script>
